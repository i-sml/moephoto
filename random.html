<!DOCTYPE html>
<html>
<head>
    <title>Random Page Redirector</title>
</head>
<body>
    <script>
        function getRandomNumber() {
            let randomNumber;
            do {
                randomNumber = Math.floor(Math.random() * 99999) + 1;
            } while (randomNumber < 1 || randomNumber > 99999);
            return randomNumber.toString().padStart(5, '0');
        }

        function checkUrl(url) {
            return fetch(url, { method: 'HEAD' })
                .then(response => response.status === 200)
                .catch(() => false);
        }

        async function redirectToValidPage(baseUrl) {
            let validUrlFound = false;
            
            while (!validUrlFound) {
                const randomNumber = getRandomNumber();
                const url = `${baseUrl}${randomNumber}`;
                
                const isValid = await checkUrl(url);
                if (isValid) {
                    window.location.href = url;
                    validUrlFound = true;
                }
            }
        }

        fetch('./data.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                redirectToValidPage(data.url);
            })
            .catch(error => {
                console.error('Error fetching JSON:', error);
            });
    </script>
</body>
</html>
